!function(){var a=angular.module("mainApp",["ui.router","plotly"]);a.config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/overview"),a.state("overview",{url:"/overview",templateUrl:"/templates/overview.html",controller:"OverviewController",resolve:{OeeDataService:"SnakeDataService",machines:["SnakeDataService",function(a){return a.getGeographicalRegions()}]}}).state("details",{url:"/details/:machineName",templateUrl:"/templates/details.html",controller:"DetailsController",resolve:{OeeDataService:"OeeDataService",oeeMachineData:["OeeDataService","$stateParams",function(a,b){return a.getMachineOee(b.machineName)}]}}).state("linechart",{url:"/linechart/:machineName/:datapoint/:perMonthWeekYear",templateUrl:"/templates/linechart.html",controller:"LineChartController",resolve:{OeeDataService:"OeeDataService",barChartData:["OeeDataService","$stateParams",function(a,b){return a.getBarChartData(b.machineName,b.datapoint,b.perMonthWeekYear)}]}})}]),a.run(["$rootScope",function(a){a.$on("$stateChangeError",function(a,b,c,d,e,f){console.log(a),console.log(b),console.log(c),console.log(d),console.log(e),console.log(f)}),a.$on("$stateNotFound",function(a,b,c,d){console.log(a),console.log(b),console.log(c),console.log(d)})}])}(),function(){"use strict";function a(a,b,c){function d(){var b=1-a.oeeMachineData.Oee,c=[];return c.push(a.oeeMachineData.Oee),c.push(b),c}function e(){var b=1-a.oeeMachineData.Availability,c=[];return c.push(a.oeeMachineData.Availability),c.push(b),c}function f(){var b=1-a.oeeMachineData.Performance,c=[];return c.push(a.oeeMachineData.Performance),c.push(b),c}function g(){var b=1-a.oeeMachineData.Quality,c=[];return c.push(a.oeeMachineData.Quality),c.push(b),c}b.info("DetailsController called"),a.message="Animal Details",a.oeeMachineData=c,b.info(c);var h=[["rgb(0, 153, 0)","rgb(224,224,224)"],["rgb(209, 239, 12)","rgb(224,224,224)"],["rgb(255, 51, 51)","rgb(224,224,224)"]];a.options={showLink:!1,displayLogo:!1,displayModeBar:!1},a.dataoee=[{values:d(),labels:["",""],marker:{colors:h[0]},name:"",hoverinfo:"label+percent+name",hole:.4,type:"pie"}],a.dataQuality=[{values:g(),labels:["",""],marker:{colors:h[0]},name:"",hoverinfo:"label+percent+name",hole:.4,type:"pie"}],a.dataPerformance=[{values:f(),labels:["",""],marker:{colors:h[0]},name:"",hoverinfo:"label+percent+name",hole:.4,type:"pie"}],a.dataAvailability=[{values:e(),labels:["",""],marker:{colors:h[0]},name:"",hoverinfo:"label+percent+name",hole:.4,type:"pie"}],a.layoutoee={title:"",showlegend:!1,height:390,width:390}}var b=angular.module("mainApp");b.controller("DetailsController",["$scope","$log","oeeMachineData",a])}(),function(){"use strict";function a(a,b,c){function d(){return"quality"===a.barChartData.Datapoint?a.barChartData.QualityData.Y:"performance"===a.barChartData.Datapoint?a.barChartData.PerformanceData.Y:"availability"===a.barChartData.Datapoint?a.barChartData.AvailabilityData.Y:a.barChartData.OeeTracesData.Y}b.info("LineChartController called"),a.message="LineChartController",a.barChartData=c,a.machineName=a.barChartData.MachineName,a.layout={title:a.barChartData.MachineName+": "+a.barChartData.Datapoint,height:500,width:1200},a.data=[{x:a.barChartData.X,y:d(),name:a.barChartData.Datapoint,type:"bar",orientation:"v"}],b.info(a.data)}var b=angular.module("mainApp");b.controller("LineChartController",["$scope","$log","barChartData",a])}(),function(){"use strict";function a(a,b,c){b.info("OverviewController called"),a.message="Overview",a.geographicalRegions=c}var b=angular.module("mainApp");b.controller("OverviewController",["$scope","$log","geographicalRegions",a])}(),function(){"use strict";function a(a,b){b.info("SnakeDataService called");var c=function(){return b.info("SnakeDataService GetGeographicalRegions called"),a.get("/api/SnakeData/GeographicalRegions").then(function(a){return a.data})},d=function(c){return b.info("SnakeDataService get MC1 data called: "+c),b.info(c),a.get("/api/OeeData/"+c).then(function(a){return a.data})},e=function(c,d,e){return b.info("SnakeDataService getBarChartData: "+c),b.info(c),a.get("/api/OeeData/LineData/"+c+"/"+d+"/"+e).then(function(a){return a.data})};return{getGeographicalRegions:c,getMachineOee:d,getBarChartData:e}}var b=angular.module("mainApp");b.factory("SnakeDataService",["$http","$log",a])}();